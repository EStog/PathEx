
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pathex.managing.manager &#8212; PathEx 0.1 documentation</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.e2363ea40746bee74734a24ffefccd78.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">PathEx 0.1 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../generalities/index.html">
   Generalities
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../generalities/expressions/index.html">
     Expressions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../generalities/expressions/empty_word.html">
       Empty word
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../generalities/expressions/union.html">
       Union
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../semantics/index.html">
   Semantics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../semantics/expressions/index.html">
     Expressions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../references.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../API/pathex.html">
   pathex package
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../API/pathex.adts.html">
     pathex.adts package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.adts.cached_generators.html">
       pathex.adts.cached_generators package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.adts.concurrency.html">
       pathex.adts.concurrency package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../../API/pathex.adts.concurrency.atomics.html">
         pathex.adts.concurrency.atomics package
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.adts.containers.html">
       pathex.adts.containers package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../API/pathex.adts.singleton.html">
       Singleton decorator
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../API/pathex.adts.util.html">
       Useful functions and constants
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../API/pathex.expressions.html">
     pathex.expressions package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.expressions.nary_operators.html">
       pathex.expressions.nary_operators package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.expressions.repetitions.html">
       pathex.expressions.repetitions package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.expressions.terms.html">
       pathex.expressions.terms package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../API/pathex.expressions.expression.html">
       Expressions abstract base class
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../API/pathex.generation.html">
     pathex.generation package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="simple">
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../API/pathex.machines.html">
     pathex.machines package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../../API/pathex.machines.decomposers.html">
       pathex.machines.decomposers package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../../API/pathex.machines.decomposers.visitors.html">
         pathex.machines.decomposers.visitors package
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../API/pathex.managing.html">
     pathex.managing package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="simple">
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <h1>Source code for pathex.managing.manager</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

<span class="kn">from</span> <span class="nn">pathex.adts.containers.ordered_set</span> <span class="kn">import</span> <span class="n">OrderedSet</span>
<span class="kn">from</span> <span class="nn">pathex.adts.singleton</span> <span class="kn">import</span> <span class="n">singleton</span>
<span class="kn">from</span> <span class="nn">pathex.expressions.expression</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="kn">from</span> <span class="nn">pathex.expressions.nary_operators.concatenation</span> <span class="kn">import</span> <span class="n">Concatenation</span>
<span class="kn">from</span> <span class="nn">pathex.expressions.nary_operators.intersection</span> <span class="kn">import</span> <span class="n">Intersection</span>
<span class="kn">from</span> <span class="nn">pathex.expressions.nary_operators.union</span> <span class="kn">import</span> <span class="n">Union</span>
<span class="kn">from</span> <span class="nn">pathex.expressions.terms.empty_word</span> <span class="kn">import</span> <span class="n">EMPTY_WORD</span>
<span class="kn">from</span> <span class="nn">pathex.machines.decomposers.decomposer</span> <span class="kn">import</span> <span class="n">DecomposerMatch</span>

<span class="kn">from</span> <span class="nn">.tag</span> <span class="kn">import</span> <span class="n">Tag</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Manager&#39;</span><span class="p">]</span>

<span class="c1"># TODO: refactor by using Shuffle and Intersection</span>


<div class="viewcode-block" id="Manager"><a class="viewcode-back" href="../../../API/pathex.managing.manager.html#pathex.managing.manager.Manager">[docs]</a><span class="k">class</span> <span class="nc">Manager</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A generic abstract manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@singleton</span>
    <span class="k">class</span> <span class="nc">_WaitingLabels</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The instance of this class is used to represent future labels to be matched with. The idea is to use an abstract replacement object that is to be concretized with the current waiting-labels expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_waiting_labels_visitor</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>
        <span class="c1"># return a visitor to the current waiting-labels expression</span>
        <span class="k">return</span> <span class="n">machine</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">machine</span><span class="o">.</span><span class="n">waiting_labels_expression</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="n">Expression</span><span class="p">,</span> <span class="n">decomposer</span><span class="p">:</span> <span class="n">DecomposerMatch</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_waiting_labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_WaitingLabels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="n">Intersection</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_waiting_labels</span><span class="p">,</span> <span class="n">expression</span><span class="p">)</span>

        <span class="k">class</span> <span class="nc">CustomDecomposer</span><span class="p">(</span><span class="n">decomposer</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="n">waiting_labels_expression</span><span class="p">:</span> <span class="nb">object</span>

            <span class="nd">@classmethod</span>
            <span class="k">def</span> <span class="nf">_populate_transformer</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate_transformer</span><span class="p">()</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_transform</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_WaitingLabels</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">_waiting_labels_visitor</span><span class="p">)</span>

        <span class="c1"># Just in case ``machine`` has some attributes:</span>
        <span class="n">decomposer</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">decomposer</span><span class="p">)</span>

        <span class="c1"># Expand ``machine.branch`` with ``_waiting_labels_visitor``:</span>
        <span class="n">decomposer</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">CustomDecomposer</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_decomposer</span><span class="p">:</span> <span class="n">CustomDecomposer</span> <span class="o">=</span> <span class="n">decomposer</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_when_requested_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span> <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_when_matched</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">label_info</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span> <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_when_not_matched</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span>
                          <span class="n">label_info</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span> <span class="o">...</span>

<div class="viewcode-block" id="Manager.match"><a class="viewcode-back" href="../../../API/pathex.managing.manager.html#pathex.managing.manager.Manager.match">[docs]</a>    <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; This method is used to notify to the manager the presence of a given label.</span>

<span class="sd">        The manager then see if this label is allowed by checking if the internal expression can generate the given label.</span>
<span class="sd">        If the label is allowed or not, a respective action is taken.</span>

<span class="sd">        Args:</span>
<span class="sd">            label (object): The label to check for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">label_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_when_requested_match</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_advance</span><span class="p">(</span><span class="n">label</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_when_matched</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">label_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_when_not_matched</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">label_info</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">new_alternatives</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
        <span class="c1"># the waiting-labels expression is setted as a sequence consisting of the current label to be matched, followed by the rest of the labels that are to be matched</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_decomposer</span><span class="o">.</span><span class="n">waiting_labels_expression</span> <span class="o">=</span> <span class="n">Concatenation</span><span class="p">(</span>
            <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waiting_labels</span><span class="p">)</span>
        <span class="n">alts</span> <span class="o">=</span> <span class="n">OrderedSet</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">])</span>
        <span class="k">while</span> <span class="n">alts</span><span class="p">:</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="n">alts</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
            <span class="c1"># print(exp)</span>
            <span class="k">for</span> <span class="n">head</span><span class="p">,</span> <span class="n">tail</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decomposer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">exp</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">head</span> <span class="o">==</span> <span class="n">label</span><span class="p">:</span>
                    <span class="n">new_alternatives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">head</span> <span class="ow">is</span> <span class="n">EMPTY_WORD</span><span class="p">:</span>
                    <span class="n">alts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">new_alternatives</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span> <span class="o">=</span> <span class="n">Union</span><span class="p">(</span><span class="n">new_alternatives</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="Manager.register"><a class="viewcode-back" href="../../../API/pathex.managing.manager.html#pathex.managing.manager.Manager.register">[docs]</a>    <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Decorator to mark a method as a region.</span>

<span class="sd">        Args:</span>
<span class="sd">            tag (Tag): A tag to mark the given funcion with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">wrapped</span><span class="p">):</span>
            <span class="nd">@wraps</span><span class="p">(</span><span class="n">wrapped</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">enter</span><span class="p">)</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">wrapped</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">exit</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">x</span>
            <span class="k">return</span> <span class="n">f</span>

        <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">wrapper</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></div>

<div class="viewcode-block" id="Manager.region"><a class="viewcode-back" href="../../../API/pathex.managing.manager.html#pathex.managing.manager.Manager.region">[docs]</a>    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="n">Tag</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Context manager to mark a piece of code as a region.</span>

<span class="sd">        Args:</span>
<span class="sd">            tag (Tag): A tag to mark the corresponding block with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">enter</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">yield</span> <span class="bp">self</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">exit</span><span class="p">)</span></div></div>
</pre></div>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Ernesto Soto Gómez<br/>
        
            &copy; Copyright 2019-2021, Ernesto Soto Gómez.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>